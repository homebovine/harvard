table(resp[, 1], resp[, 2])
res
res[[i]]
ls()
1e-10
1.e-10
options(digits = )
options(digits)
options(digits)
rm(list = ls())
p
iniestreal4
res
ls()
bb
theta
str(covmy)
q()
n
 str(survData)
load("realData")
str(survData
)
survData[, 5]
load("coxmatrixp")
covlog
load("covmatrix")
covlog
ls()
y
survData[, 1]
survData[, c(1, 3)] <- survData[, c(1, 3)]/ 30
range(survData[, c(1, 3)])
y
CIlog11
CIlog11s
str(sds)
dev.off()
survf
dev.off()
dev.off
dev.off()
dev.off()
 survf
y
y
upper
lower
upper
lines(upper~y1)
lowess(upper ~y1, f= 1/3)
y
y
y
upper
plot(smoothspline(survf~y1))
plot(smooth.spline(survf~y1))
lines(smooth.spline(survf~y1))
lines(smooth.spline(survf~y1))
hz
sds
sds
upper
upper[1:22]
sds
hz
sds
hz
sds
covbox
sds
lower
lower[1:10]
upper
sds
sds[1:22] <- sds[23]
sds
load("realresult")
ls()
res
datamale
rm(list= ls())
load("realresult")
ls()
resfemale
q()
y
getwd()
q()
y
logk1s
getwd()
load("/Users/fjiang/harv/harvard/accleft/realdata")
str(survData)
survData[, c(1, 3)] <- survData[, c(1, 3)]/30
load("covm")
str(covlog)
load("covmatrix")
str(covlog)
str("covmatrixp")
load("covmatrixp")
ls()
load("covm")
str(covboxp)
load("covmatrix")
ls()
load("coxmatrixp")
ls()
str(covboxp)
dev.off()
str(survf)'
str(survf)
str(y1)
str(y)
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
q()
y
load("survData"
)
tvar <- FrqSp(survData, rep(1, 34), nk = 22, ord = 3)
summary(tvar)
plot(tvar)
q()
y
tvar <- FrqSp(survData, rep(1, 34), nk = 22, ord = 3)
summary(tvar
)
plot(tvar)
survData <- simCpRsk(1000, p = 3, theta = 0.8, lambda1 = 1, lambda2 = 0.5, lambda3 = 1, kappa = 0.5, 
	    beta1 = c(0.2, 0.3, 0.2), beta2 = c(0.2, 0.2, 0.4), beta3 = c(0.3, 0.2, 0.4), covm = NULL, 3, 5)
res <- FrqSp( survData, rep(1, 3 * 3 + 1), nknots = 22, ord = 3)
res <- FrqSp( survData, rep(1, 3 * 3 + 1), nknots = 22, ord = 3)
res <- FrqSp( survData, rep(1, 3 * 3 + 1), nknots = 10, ord = 2)
tvar <- FrqSp(survData, rep(1, 34), lower = )
lower <- c(rep(-10, 3 * p), rep(0.001, 3 * (nknots + ord - 2)), 0)
p <- 11
lower <- c(rep(-10, 3 * p), rep(0.001, 3 * (nknots + ord - 2)), 0)
p <- 11
nknots <- 10
ord <- 3
lower <- c(rep(-10, 3 * p), rep(0.001, 3 * (nknots + ord - 2)), 0)
upper <- c(rep(10, 3 * p), rep(10, 3 * (nknots + ord - 2)), 3)
tvar <- FrqSp(survData, rep(1, 34), lower = lower, upper = upper, nknots, ord)  
length(lower)
p
bb
nknots <- 22
lower <- c(rep(-10, 3 * p), rep(0.001, 3 * (nknots + ord - 2)), 0)
lower
?SplineBasis
p <- 11
nknots <- 22
ord <- 3
str(survData)
load("survData")
p <- 11
nknots <- 10
ord <- 3
lower <- c(rep(-10, 3 * p), rep(0.001, 3 * (nknots + ord - 2)), 0)
upper <- c(rep(10, 3 * p), rep(10, 3 * (nknots + ord - 2)), 3)
tvar <- FrqSp(survData, rep(1, 34), lower = lower, upper = upper, nknots, ord)  
tvar
summary(tvar)
tvar[[1]]
lower <- c(rep(-10, 3 * p), rep(0.001, 3 * (nknots + ord - 2)), 0.01)
tvar <- FrqSp(survData, rep(1, 34), lower = lower, upper = upper, nknots, ord)  
summary(tvar)
plot(tvar)
set.seed(2013)
p <- 3
nknots <- 10
ord <- 3
survData <- simCpRsk(1000, p = p, theta = 0.8, lambda1 = 1, lambda2 = 0.5, lambda3 = 1, kappa = 0.5, 
	    beta1 = c(0.2, 0.3, 0.2), beta2 = c(0.2, 0.2, 0.4), beta3 = c(0.3, 0.2, 0.4), covm = NULL, 3, 5)
lower <- c(rep(0, 3 * p), rep(0.001, 3 * (nknots + ord - 2)), 0.01)
upper <- c(rep(1, 3 * p), rep(10, 3 * (nknots + ord - 2)), 3)
res <- FrqSp( survData, rep(1, 3 * p + 1),lower =lower, upper = upper,   nknots = nknots, ord = ord)
set.seed(2015)
p <- 3
nknots <- 10
ord <- 3
survData <- simCpRsk(500, p = p, theta = 0.8, lambda1 = 1, lambda2 = 0.5, lambda3 = 1, kappa = 0.5, 
	    beta1 = c(0.2, 0.3, 0.2), beta2 = c(0.2, 0.2, 0.4), beta3 = c(0.3, 0.2, 0.4), covm = NULL, 3, 5)
summary(survData[, c(1, 3)]
)
lower <- c(rep(0, 3 * p), rep(0.001, 3 * (nknots + ord - 2)), 0.01)
upper <- c(rep(1, 3 * p), rep(10, 3 * (nknots + ord - 2)), 3)
res <- FrqSp( survData, rep(1, 3 * p + 1),lower =lower, upper = upper,   nknots = nknots, ord = ord, ctrl = list(maxit = 5000))
summary(res)
res[[1]][[1]]
set.seed(2015)
p <- 3
nknots <- 10
ord <- 3
survData <- simCpRsk(500, p = p, theta = 0.8, lambda1 = 1, lambda2 = 0.5, lambda3 = 1, kappa = 0.5, 
	    beta1 = c(0.2, 0.3, 0.2), beta2 = c(0.2, 0.2, 0.4), beta3 = c(0.3, 0.2, 0.4), covm = NULL, 3, 5)
lower <- c(rep(0, 3 * p), rep(0.001, 3 * (nknots + ord - 2)), 0.01)
upper <- c(rep(1, 3 * p), rep(10, 3 * (nknots + ord - 2)), 3)
res <- FrqSp( survData, rep(1, 3 * p + 1),lower =lower, upper = upper,   nknots = nknots, ord = ord)
set.seed(2015)
p <- 3
nknots <- 10
ord <- 2
survData <- simCpRsk(500, p = p, theta = 0.8, lambda1 = 1, lambda2 = 0.5, lambda3 = 1, kappa = 2, 
	    beta1 = c(0.2, 0.3, 0.2), beta2 = c(0.2, 0.2, 0.4), beta3 = c(0.3, 0.2, 0.4), covm = NULL, 3, 5)
lower <- c(rep(0, 3 * p), rep(0.001, 3 * (nknots + ord - 2)), 0.01)
upper <- c(rep(1, 3 * p), rep(10, 3 * (nknots + ord - 2)), 3)
res <- FrqSp( survData, rep(1, 3 * p + 1),lower =lower, upper = upper,   nknots = nknots, ord = ord)
summary(res)
res[[1]][[1]]
plot(res)
set.seed(2015)
p <- 3
nknots <- 10
ord <- 2
survData <- simCpRsk(500, p = p, theta = 0.8, lambda1 = 1, lambda2 = 0.5, lambda3 = 1, kappa = 2, 
	    beta1 = c(0.2, 0.3, 0.2), beta2 = c(0.2, 0.2, 0.4), beta3 = c(0.3, 0.2, 0.4), covm = NULL, 3, 5)
lower <- c(rep(0, 3 * p), rep(0.0001, 3 * (nknots + ord - 2)), 0.01)
upper <- c(rep(1, 3 * p), rep(100, 3 * (nknots + ord - 2)), 3)
res <- FrqSp( survData, rep(1, 3 * p + 1),lower =lower, upper = upper,   nknots = nknots, ord = ord)
summary(res)
res[[1]][[1]]
plot(res, ylim = NULL)
plot(res, ylim = NULL)
set.seed(2018)
p <- 3
nknots <- 10
ord <- 3
survData <- simCpRsk(500, p = p, theta = 0.8, lambda1 = 1, lambda2 = 0.5, lambda3 = 1, kappa = 2, 
	    beta1 = c(0.2, 0.3, 0.2), beta2 = c(0.2, 0.2, 0.4), beta3 = c(0.3, 0.2, 0.4), covm = NULL, 3, 5)
lower <- c(rep(0, 3 * p), rep(0.0001, 3 * (nknots + ord - 2)), 0.01)
upper <- c(rep(1, 3 * p), rep(100, 3 * (nknots + ord - 2)), 3)
res <- FrqSp( survData, rep(1, 3 * p + 1),lower =lower, upper = upper,   nknots = nknots, ord = ord)
summary(res)
res[[1]][[1]]
plot(res, ylim = NULL)
set.seed(2019)
p <- 3
nknots <- 10
ord <- 3
survData <- simCpRsk(1000, p = p, theta = 0.8, lambda1 = 1, lambda2 = 0.5, lambda3 = 1, kappa = 2, 
	    beta1 = c(0.2, 0.3, 0.2), beta2 = c(0.2, 0.2, 0.4), beta3 = c(0.3, 0.2, 0.4), covm = NULL, 3, 5)
lower <- c(rep(0, 3 * p), rep(0.0001, 3 * (nknots + ord - 2)), 0.01)
upper <- c(rep(1, 3 * p), rep(100, 3 * (nknots + ord - 2)), 3)
res <- FrqSp( survData, rep(1, 3 * p + 1),lower =lower, upper = upper,   nknots = nknots, ord = ord)
summary(res)
res[[1]]
p <- 3
nknots <- 10
ord <- 4
survData <- simCpRsk(1000, p = p, theta = 0.5, lambda1 = 1, lambda2 = 0.5, lambda3 = 1, kappa = 0.5, 
	    beta1 = c(0.2, 0.3, 0.2), beta2 = c(0.2, 0.2, 0.4), beta3 = c(0.3, 0.2, 0.4), covm = NULL, 3, 5)
lower <- c(rep(0, 3 * p), rep(0.0001, 3 * (nknots + ord - 2)), 0.01)
upper <- c(rep(1, 3 * p), rep(100, 3 * (nknots + ord - 2)), 3)
res <- FrqSp( survData, rep(1, 3 * p + 1),lower =lower, upper = upper,   nknots = nknots, ord = ord)
res[[1]][[1]]
p <- 3
nknots <- 10
ord <- 4
survData <- simCpRsk(1000, p = p, theta = 0.5, lambda1 = 1, lambda2 = 0.5, lambda3 = 1, kappa = 0.5, 
	    beta1 = c(0.2, 0.3, 0.2), beta2 = c(0.2, 0.2, 0.4), beta3 = c(0.3, 0.2, 0.4), covm = NULL, 3, 5)
lower <- c(rep(0, 3 * p), rep(0.0001, 3 * (nknots + ord - 2)), 0.01)
upper <- c(rep(1, 3 * p), rep(100, 3 * (nknots + ord - 2)), 3)
res <- FrqSp( survData, rep(1, 3 * p + 1),lower =lower, upper = upper,   nknots = nknots, ord = ord)
res[[1]][[1]]
source("xuspl.r")
res <- FrqSp( survData, rep(1, 3 * p + 1),lower =lower, upper = upper,   nknots = nknots, ord = ord,  scale =1)
res <- FrqSp( survData, rep(1, 3 * p + 1),lower =lower, upper = upper,   nknots = nknots, ord = ord,  scale =1)
summary(res)
plot(res)
plot(res, ylim = NULL)
plot(res, ylim = NULL)
plot(res, ylim = c(0, 1))
plot(res)
p <- 3
nknots <- 22
ord <- 4
survData <- simCpRsk(1000, p = p, theta = 0.5, lambda1 = 1, lambda2 = 0.5, lambda3 = 1, kappa = 0.5, 
	    beta1 = c(0.2, 0.3, 0.2), beta2 = c(0.2, 0.2, 0.4), beta3 = c(0.3, 0.2, 0.4), covm = NULL, 3, 5)
lower <- c(rep(0, 3 * p), rep(0.0001, 3 * (nknots + ord - 2)), 0.01)
upper <- c(rep(1, 3 * p), rep(100, 3 * (nknots + ord - 2)), 3)
res <- FrqSp( survData, rep(1, 3 * p + 1),lower =lower, upper = upper,   nknots = nknots, ord = ord,  scale =1)
res[[1]][[1]]
summary(res)
plot(res)
q()
y
source(xuspl.r)
source("xuspl.r")
set.seed(2019)
    p <- 3
    nknots <- 22
    ord <- 4
    survData <- simCpRsk(1000, p = p, theta = 0.5, lambda1 = 1, lambda2 = 0.5, lambda3 = 1, kappa = 0.5,
        beta1 = c(0.2, 0.3, 0.2), beta2 = c(0.2, 0.2, 0.4), beta3 = c(0.3, 0.2, 0.4), covm = NULL, 3, 5)
    lower <- c(rep(0, 3 * p), rep(0.0001, 3 * (nknots + ord - 2)), 0.01)
    upper <- c(rep(1, 3 * p), rep(100, 3 * (nknots + ord - 2)), 3)
    res <- FrqSp( survData, rep(1, 3 * p + 1),lower =lower, upper = upper,
     nknots = nknots, ord = ord,  scale =1)
res
summary(res)
nknots <- 10
res <- FrqSp( survData, rep(1, 3 * p + 1),lower =lower, upper = upper,
     nknots = nknots, ord = ord,  scale =1)
lower <- c(rep(0, 3 * p), rep(0.0001, 3 * (nknots + ord - 2)), 0.01)
    upper <- c(rep(1, 3 * p), rep(100, 3 * (nknots + ord - 2)), 3)
    res <- FrqSp( survData, rep(1, 3 * p + 1),lower =lower, upper = upper,
     nknots = nknots, ord = ord,  scale =1)
res
summary(res)
ord <- 3
lower <- c(rep(0, 3 * p), rep(0.0001, 3 * (nknots + ord - 2)), 0.01)
    upper <- c(rep(1, 3 * p), rep(100, 3 * (nknots + ord - 2)), 3)
    res <- FrqSp( survData, rep(1, 3 * p + 1),lower =lower, upper = upper,
     nknots = nknots, ord = ord,  scale =1)
summary(res)
set.seed(2013)
 survData <- simCpRsk(1000, p = p, theta = 0.5, lambda1 = 1, lambda2 = 0.5, lambda3 = 1, kappa = 0.5,
        beta1 = c(0.2, 0.3, 0.2), beta2 = c(0.2, 0.2, 0.4), beta3 = c(0.3, 0.2, 0.4), covm = NULL, 3, 5)
    lower <- c(rep(0, 3 * p), rep(0.0001, 3 * (nknots + ord - 2)), 0.01)
    upper <- c(rep(1, 3 * p), rep(100, 3 * (nknots + ord - 2)), 3)
    res <- FrqSp( survData, rep(1, 3 * p + 1),lower =lower, upper = upper,
     nknots = nknots, ord = ord,  scale =1)
    summary(res)
set.seed(2014)
 survData <- simCpRsk(1000, p = p, theta = 0.5, lambda1 = 1, lambda2 = 0.5, lambda3 = 1, kappa = 0.5,
        beta1 = c(0.2, 0.3, 0.2), beta2 = c(0.2, 0.2, 0.4), beta3 = c(0.3, 0.2, 0.4), covm = NULL, 3, 5)
    lower <- c(rep(0, 3 * p), rep(0.0001, 3 * (nknots + ord - 2)), 0.01)
    upper <- c(rep(1, 3 * p), rep(100, 3 * (nknots + ord - 2)), 3)
    res <- FrqSp( survData, rep(1, 3 * p + 1),lower =lower, upper = upper,
     nknots = nknots, ord = ord,  scale =1)
    summary(res)
summary(res)
set.seed(2015)
 survData <- simCpRsk(1000, p = p, theta = 0.5, lambda1 = 1, lambda2 = 0.5, lambda3 = 1, kappa = 0.5,
        beta1 = c(0.2, 0.3, 0.2), beta2 = c(0.2, 0.2, 0.4), beta3 = c(0.3, 0.2, 0.4), covm = NULL, 3, 5)
    lower <- c(rep(0, 3 * p), rep(0.0001, 3 * (nknots + ord - 2)), 0.01)
    upper <- c(rep(1, 3 * p), rep(100, 3 * (nknots + ord - 2)), 3)
    res <- FrqSp( survData, rep(1, 3 * p + 1),lower =lower, upper = upper,
     nknots = nknots, ord = ord,  scale =1)
    summary(res)
ord <- 4
 survData <- simCpRsk(1000, p = p, theta = 0.5, lambda1 = 1, lambda2 = 0.5, lambda3 = 1, kappa = 0.5,
        beta1 = c(0.2, 0.3, 0.2), beta2 = c(0.2, 0.2, 0.4), beta3 = c(0.3, 0.2, 0.4), covm = NULL, 3, 5)
    lower <- c(rep(0, 3 * p), rep(0.0001, 3 * (nknots + ord - 2)), 0.01)
    upper <- c(rep(1, 3 * p), rep(100, 3 * (nknots + ord - 2)), 3)
    res <- FrqSp( survData, rep(1, 3 * p + 1),lower =lower, upper = upper,
     nknots = nknots, ord = ord,  scale =1)
    summary(res)
ord <- 5
 survData <- simCpRsk(1000, p = p, theta = 0.5, lambda1 = 1, lambda2 = 0.5, lambda3 = 1, kappa = 0.5,
        beta1 = c(0.2, 0.3, 0.2), beta2 = c(0.2, 0.2, 0.4), beta3 = c(0.3, 0.2, 0.4), covm = NULL, 3, 5)
    lower <- c(rep(0, 3 * p), rep(0.0001, 3 * (nknots + ord - 2)), 0.01)
    upper <- c(rep(1, 3 * p), rep(100, 3 * (nknots + ord - 2)), 3)
    res <- FrqSp( survData, rep(1, 3 * p + 1),lower =lower, upper = upper,
     nknots = nknots, ord = ord,  scale =1)
    summary(res)
ord  <- 4
nknots <- 15
 survData <- simCpRsk(1000, p = p, theta = 0.5, lambda1 = 1, lambda2 = 0.5, lambda3 = 1, kappa = 0.5,
        beta1 = c(0.2, 0.3, 0.2), beta2 = c(0.2, 0.2, 0.4), beta3 = c(0.3, 0.2, 0.4), covm = NULL, 3, 5)
    lower <- c(rep(0, 3 * p), rep(0.0001, 3 * (nknots + ord - 2)), 0.01)
    upper <- c(rep(1, 3 * p), rep(100, 3 * (nknots + ord - 2)), 3)
    res <- FrqSp( survData, rep(1, 3 * p + 1),lower =lower, upper = upper,
     nknots = nknots, ord = ord,  scale =1)
    summary(res)
set.seed(2013)
p <- 3
nknots <- 11
ord <- 4
survData <- simCpRsk(1000, p = p, theta = 0.5, lambda1 = 1, lambda2 = 0.5, lambda3 = 1, kappa = 0.5, 
	    beta1 = c(0.2, 0.3, 0.2), beta2 = c(0.2, 0.2, 0.4), beta3 = c(0.3, 0.2, 0.4), covm = NULL, 3, 5)
lower <- c(rep(0, 3 * p), rep(0.0001, 3 * (nknots + ord - 2)), 0.01)
upper <- c(rep(1, 3 * p), rep(100, 3 * (nknots + ord - 2)), 3)
res <- FrqSp( survData, rep(1, 3 * p + 1),lower =lower, upper = upper,  
 nknots = nknots, ord = ord,  scale =1)
summary(res)
summary(res)
plot(res)
q()
y
source("accleftlog.r")
lsurvData <- lapply(1 : 100, simall, 0.8, 1.35)
str(lsurvData)
sRoot(1)
theta
load("realdata")
ls()
str(survData)
source("realrunsub.r")
str(survData)
p
source("realrunsub.r")
source("realrunsub.r")
p
str(survData)
source("realrunsub.r")
source("realrunsublog.r")
source("realrunsubbox.r")
load("inibox")
theta
load("inilog")
theta
load("initialvalue")
theta
rg
load("initialvalue")
theta
source("realrunsubbox.r")
source("realrunsubbox.r")
res
source("realrunsublog.r")
source("realrunsublog.r")
res
source("realrunsublog.r")
res
theta
source("realrunsublog.r")
res
1.43 + 1.96 * 0.51
1.53 + 1.96 * 0.42
1.53 - 1.96 * 0.42
-1.53 + 1.96 * 0.42
-1.53 - 1.96 * 0.42
1.43 + 1.96 * 0.51
1.43 - 1.96 * 0.51
1.42 + 1.96 * 0.177
1.42 - 1.96 * 0.177
-0.1 + 1.96 * 0.296
-0.1 - 1.96 * 0.296
0.95 + 1.96 * 0.146
0.95 - 1.96 * 0.146
-0.45 + 1.96 * 0.232
-0.45 - 1.96 * 0.232
-0.13 + 1.96 * 0.186
-0.13 - 1.96 * 0.186
0.85 + 0.176 * 1.96
0.85 - 0.176 * 1.96
0.53 + 0.196 * 1.96
0.53 - 0.196 * 1.96
-1.53 + 1.96 * 0.421
-1.53 - 1.96 * 0.421
source("runsub.r")
source("simu.r")
source("simu.r")
source("runsub.r")
res
theta
q()
y
source("xuspl.r")
plot(res)
str(res)
ls()
p <- 3
nknots <- 11
ord <- 4
survData <- simCpRsk(1000, p = p, theta = 0.5, lambda1 = 1, lambda2 = 0.5, lambda3 = 1, kappa = 0.5, 
	    beta1 = c(0.2, 0.3, 0.2), beta2 = c(0.2, 0.2, 0.4), beta3 = c(0.3, 0.2, 0.4), covm = NULL, 3, 5)
lower <- c(rep(0, 3 * p), rep(0.0001, 3 * (nknots + ord - 2)), 0.01)
upper <- c(rep(1, 3 * p), rep(100, 3 * (nknots + ord - 2)), 3)
res <- FrqSp( survData, rep(1, 3 * p + 1),lower =lower, upper = upper,  
 nknots = nknots, ord = ord,  scale =1)
summary(res)
plot(res, ylim = NULL)
plot(res)
plot()
plot(res)
q()
y
install.packages("rMathpiper")
install.packages("Ryacas")
library(Ryacas)
?Ryacas
yacas
yacas(x)
file.copy(system.file("yacdir/R.ys", package = "Ryacas"), "~/.yacsrc")
Sys.setenv(YACAS_INVOKE_STRING = "yacas -pc --server 9734")
demo(Ryacas) # test it
x * y
expression(matrix(x, 4, 4))
yacas(expression(matrix(x, 4, 4)))
yacasInstall(url = "http://ryacas.googlecode.com/files/yacas-1.0.63.zip",
overwrite = FALSE)
yacasFile(filename = c(
getwd()
q()
y
getwd()
q()
n
summary(res)
plot(res)
plot(res)
q()
y
