str(myData)
is.na(DiagnosisAge)&is.na(AgeAtDeath)
YearEnrolled[is.na(DiagnosisAge)&is.na(AgeAtDeath)] 
2013 - YearEnrolled[is.na(DiagnosisAge)&is.na(AgeAtDeath)] 
str(myData)
y1
y1
sum(y1 <= y2)
sum(y1 > y2)
y2
str(myData)
sum(y1 <= y2)
str(myData)
str(survData)
table(gender)
table race
table(race)
1701/4049
table(race)/4049
summary(survData$education)
sd(survData$education)
summary(marital)
table(marital)
table(marital)/4049
summary(CESD_Score)
sd(CESD_Score)
str(myData)
apoe_raw
table(apoe_raw)
table(apoe_raw)/4049
survfit(SurvData(survData[, 1], survData[, 2])~1)
survfit(Surv(survData[, 1], survData[, 2])~1)
plot(survfit(Surv(survData[, 1], survData[, 2])~1))
mean(survData[, 2])
mean(survData[, 4])
coxph(Surv(survData[, 1], survData[, 2])~., data.frame(survData[, ))
str(survData)
coxph(Surv(survData[, 1], survData[, 2])~., data.frame(survData[, 5:10]))
plot(survfit(Surv(survData[, 1], survData[, 4])~1))
plot(survfit(Surv(survData[, 1], survData[, 4])~1), xlim = c(60, 100))
plot(survfit(Surv(survData[, 1], survData[, 4])~1), xlim = c(60, 105))
coxph(Surv(survData[, 1], survData[, 2])~., data.frame(survData[, ), xlim = c(60, 105))
plot(survfit(Surv(survData[, 1], survData[, 2])~1), xlim = c(60, 105))
coxph(Surv(survData[, 1], survData[, 4])~., data.frame(survData[, ))
coxph(Surv(survData[, 1], survData[, 4])~., data.frame(survData[, 5:10] )
)
plot(survfit(Surv(survData[, 3], survData[, 4])~1), xlim = c(60, 105))
coxph(Surv(survData[, 3], survData[, 4])~., data.frame(survData[, 5:10] )
)
 save(survData, file = "survData")
q()
y
load("survData")
ls()
str(survData)
survData[survData[, 6] == 4|survData[, 6] == 5|survData[, 6] == 6, 6] <- 4
as.factor(survData[, 6])
str(survData)
survData[survData[, 10]!= "", 10] <- 1
survData[survData[, 10]!= "", 10] <- "1"
sum(survData[, 10]!= "")
str(survData[, 10]
)
as.numeric(survData[, 10])
)
survData[, 10]
str(survData[, 10])
survData[1, 10]
survData[2, 10]
load("survData")
survData[survData[, 6] == 4|survData[, 6] == 5|survData[, 6] == 6, 6] <- 4
str(survData)
survData[, 10]
as.numeric(survData[, 10])
survData[3, 10]
as.numeric(survData[3, 10])
survData[, 10]<- as.numeric(survData[, 10])
survData[survData[, 10]!= 1, 10] <- 2
survData[survData[, 10]== 1, 10] <- 0
survData[survData[, 10]!= 1, 10] <- 1
survData[, 10]
load("survData")
survData[survData[, 6] == 4|survData[, 6] == 5|survData[, 6] == 6, 6] <- 4
survData[, 10] <- as.numeric(survData[, 10])
survData[survData[, 10]!= 1, 10] <- 2
survData[survData[, 10]== 1, 10] <- 0
survData[survData[, 10]== 2, 10] <- 1
survData[, 10]
survData[, 10]<- as.factor(survData[, 10])
survData[, "race"] <- as.factor(survData[, "race"])
str(survData)
survData[survData[, 8] != 1, 8] <- 0
sum(survData[, 1] > 89)
survData[survData[, 3] > 89, 4] <- 0
survData[survData[, 3] > 89, 3] <- 89
survData[survData[, 1] > 89, 2] <- 0
survData[survData[, 1] > 89, 1] <- 89
sum(survData[, 1] <= survData[, 3])
table(survData[, "race"])
table(survData[, "race"])/4049
table(survData[, "maried"])
str(survData)
table(survData[, "marital"])
table(survData[, "marital"])/4049
table(survData[, 10])
table(survData[, 10])/4049
library(survival)
str(survData)
 -0.018 + 0.08 * 1.96
 -0.018 - 0.08 * 1.96
str(myDdata)
table(myDdata$education)
ls()
str(survData)
table(survData$race)
str(survData1)
library(survival)
table(survData$race)
table(survData$race)
table(survData$apoe_raw)
 table(as.numeric(survData$apoe_raw))
str(survData)
table(survData[, 10])
str(survData)
table(survData[, 10])
table(CESD_Score)
table(survData$CESD_Score)
table(survData$CESD_Score)
q()
n
str(survData)
survData1 <- survData
sum(survData[, 1]<= survData[, 3])
table(survData[, 9])
survData <- survData1
table(survData[, 9])
table(education)
str(survData)
table(survData$education)
table(survData[, 7])
survData[survData[, 7] == 15, 7]<- 1
table(survData[, 7])
table(survData)
as.factor(survData)
str(survData)
library(survival)
save(survData, file = "disurvData")
table(survData$race)
table(survData$apoe_raw)
nrow(survData)
attach(survData)
table(gender)
str(survData)
str(marital)
table(marital)
table(survData$marital)
save(survData, file = "disurvData")
attach(survData)
table(gender)
table(gender)/3344
nrow(survData)
table(race)
table(race)/3344
table(marital)
table(marital)/3344
table(CESD_Score)
table(CESD_Score)/3344
table(education)
table(education)/3344
table(apoe_raw)
table(apoe_raw)/3344
q()
y
library("survival")
str(survData)
q()
y
survData1
str(survData1)
str(myDdata)
myDdata$EnrollAge[myDdata$apoe_raw > 1]
str(myDdata$EnrollAge[as.numeric(myDdata$apoe_raw) > 1])
sum(complete.cases(myDdata))
sum(complete.cases(myDdata[, 1:10]))
str(myDdata)
sum(complete.cases(myDdata[, 3:8]))
myDdata <- myDdata[complete.cases(myDdata[, 3:8]), ]
str(myDdata$EnrollAge[as.numeric(myDdata$apoe_raw) > 1])
hist(myDdata$EnrollAge)
hist(myDdata$EnrollAge)
str(survData)
str(survData1)
str(myDdata)
str(myDdata$EnrollAge)
str(myDdata$EnrollAge)
survData <- cbind(survData, myDdata$EnrollAge)
survData[, c(1, 3, 11)]<-  survData[, c(1, 3, 11)]/ sd( survData[, c(1, 3, 11)])
sd( survData[, c(1, 3, 11)])
sd( as.numeric(survData[, c(1, 3, 11)]))
survData[, c(1, 3, 11)]
as.matrix(survData[, c(1, 3, 11)])
sd(as.matrix(survData[, c(1, 3, 11)]))
max(as.matrix(survData[, c(1, 3, 11)]))
survData[, c(1, 3, 11)]<-  survData[, c(1, 3, 11)]/ 90
survData[, c(1, 3, 11)]
str(survData)
sum(survData[, 1] < survData[, 3])
sum(survData[, 1] > survData[, 3])
race1 <- rep(0, 3344)
race1[survData$race == 2, ] <- 1
race1[survData$race == 2] <- 1
race2 <- rep(0, 3344)
race2[survData$race == 3] <- 1
race3 <- rep(0, 3344)
race3[survData$race == 4] <- 1
edu1 <- rep(0, 3344)
edu1[survData$education == 1] <- 1
edu2 <- rep(0, 3344)
edu2[survData$education == 2] <- 1
str(edu2)
str(edu1)
subsurvival  <- cbind(survData[, 1:5], race1, race2, race3, edu1, edu2, survData[, 8:11])
subsurvival <- cbind(survData[, 1:5], race1, race2, race3, edu1, edu2, survData[, 8:11])
str(subsurvival)
 table(race1)
 table(race2)
 table(race3)
survData2 <- survData
survData <- subsurvival
str(survData)
save(survData, file = "semisurv")
library(survData)
library(survival)
65/90
str(survData)
load(survival)
load(survData)
ls()
str(survData)
load("disurvData")
str(survData
)
ls()
rm(list = ls())
load("semisurv")
ls()
str(survData)
library(frailtypack)
ncol(survData)
str(lsurvData)
str(lsurvData)
str(lsurvData)
lsurvData <- as.data.frame(lsurvData)
colnames(lsurvData)[, 13:14] <- c("death", "id")
colnames(lsurvData)[13:14] <- c("death", "id")
colnames(lsurvData)
frailtyPenal
debug(frailtyPenal)
debug(frailtyPenal)
frailtyPenal(Surv(y1,d1)~cluster(id) + gender + race1 + race2 + race3 + edu1 + edu2 + marital + CESD_Score + apoe_raw + terminal(death), formula.terminalEvent=~gender + race1 + race2 + race3 + edu1 + edu2 + marital + CESD_Score + apoe_raw,data = lsurvData,  n.knots=14,kappa=c(9.55e+9,1.41e+12))
modJoint.calendar <- frailtyPenal(Surv(t.start,t.stop,event)~cluster(id)+
sex+dukes+charlson+terminal(death),formula.terminalEvent=~sex
+dukes+charlson,data=readmission,n.knots=10,kappa=c(9.55e9,1.41e12),
recurrentAG=TRUE)
ls()
str(readmission)
readmission
args(frailtyPenal)
Q
undebug(frailtyPenal)
str(res)
?frailtyPenal
summary(res)
str(res)
q()
y
library(frailtyPenal)
library(frailtypack)
summary(res)
res
str(res)
str(gender)
str(lsurvData)
sum(lsurvData$death)
nrow(lsurvData)
mean(lsurvData$d1)
q()
y
load("realdata")
survData[, c(1, 3)] <- survData[, c(1, 3)]/sd(survData[, c(1, 3)])
y <- quantile(survData[, c(1, 3)], seq(0.1, 0.9, 0.05))
y
y <- quantile(survData[, c(1, 3)], seq(0.1, 0.9, 0.01))
y
y <- quantile(survData[, c(1, 3)], seq(0.1, 0.9, 0.05))
y
y <- survData[, 1]
y <- y[order(y)]
y <- quantile(survData[, c(1, 3)], seq(0.1, 0.9, 0.05))
range(y)
dev.off()
dev.off()
y <- quantile(survData[, c(1, 3)], seq(0, 1, 0.01))
y
load("covmatrix")
evld
str(evld)
eval(dexplog)
attributes(eval(dexplog))
sds
sqrt(sds)
evld
y <- quantile(survData[, c(1, 3)], seq(0.2, 0.8, 0.01))
y <- quantile(survData[, c(1, 3)], seq(0, 0.7, 0.01))
dev.off()
y
range(survData[, c(1, 3)])
y <- quantile(survData[, c(1, 3)], seq(0, 1, 0.01))
dev.off()
args(survplotcoxbox)
load("covmatrixp")
load("coxmatrixp")
y <- quantile(survData[, c(1, 3)], seq(0.2, 0.8, 0.01))
y <- quantile(survData[, c(1, 3)], seq(0.01, 0.8, 0.01))
y <- quantile(survData[, c(1, 3)], seq(0.1, 0.9, 0.01))
y <- quantile(survData[, c(1, 3)], seq(0, 1, 0.1))
y <- quantile(survData[, c(1, 3)], c(0, seq(0.2, 0.8, 0.01), 1))
y <- quantile(survData[, c(1, 3)], c(0, seq(0.1, 0.9, 0.01), 1))
save.image()
q()
y
load("realdata")
sd(survData[, c(1, 3)])
log(33.64) - log(30)
str(survData)
load("realdata")
str(survData)
survData[, c(1, 3)] <- survData[, c(1, 3)] /30
survData[, c(1, 3)]
range(survData[, c(1, 3)])
y <- quantile(survData[, c(1, 3)], seq(0, 1, 0.01))
hz
explog
expbox
logb11s
1.522 + 1.96 *0.177
1.522 - 1.96 *0.177
logb21s
-0.194 + 1.96 * 0.296
-0.194 - 1.96 * 0.296
-0.194 + 1.96 * 0.232
-0.194 - 1.96 * 0.232
logb31s
0.699 + 0.196 * 1.96
0.699 - 0.196 * 1.96
logb11p
1.306 + 1.96 * 0.222
1.306 - 1.96 * 0.222
1.306 - 1.96 * 0.222
logb21p
-0.024 + 1.96 * 0.121
-0.024 - 1.96 * 0.121
logb31p
0.799 + 1.96 * 0.216
0.799 - 1.96 * 0.216
0.685 - 1.96 * 0.216
b11s
2.907 + 0.137 * 1.96
2.907 - 0.137 * 1.96
b21s
0.220 + 1.96 * 0.204
0.220 - 1.96 * 0.204
b31s
0.393 + 1.96 * 0.167
0.393 - 1.96 * 0.167
b11p
2.690 + 1.96 * 0.383
2.690 - 1.96 * 0.383
b21p
0.579 + 1.96 * 0.121
0.579 - 1.96 * 0.121
b31p
0.374 + 1.96 * 0.399
0.374 - 1.96 * 0.399
0.699 - 1.96 * 0.196 
str(colonData)
q()
y
str(colonData)
getwd()
setwd("../")
getwd()
str(colonData)
q()
n
ls()
table(d1, d2)
xtable(table(d1, d2))
library(xtable)
xtable(table(d1, d2))
length(d1)
q()
y
median
medians
medianlog
medianlog
q()
y
CIlog1p
y
sds
evld
CIlog1s
CI
CIlog10p
CIlog11
CIlog11p
CIlog20p
CIlog21p
CIlog11s
CIlog10s
covlogp
evld
evld %*% covlogp
t(evld) %*% covlogp
covlog
CIlog20s
CIlog21s
CIlog30s
CIlog31s
y
evld
sds
hz
y
y
evld
dexplog
explog
explog
CIbox11p
CIbox31p
CIbox30p
CIbox21p
CIbox20p
 y
y <- quantile(survData[, c(1, 3)], seq(0, 1, 0.01))
y
CIlog11s
CIlog11s
xtable(matrix(NA, 2, 3))
library(xtable)
xtable(matrix(NA, 2, 3))
CI10p
CI11p
CI102
CI10s
CI11s
CIlog10s
CIlog11s
CI20p
CI20s
y
evld
covbox
CI11s
y
evld
q()
y
CI11s
CIlog11s
CIlog10s
CIlog11p
CIlog10s
CIlog10p
CIlog21s
CIlog20s
CIlog21p
CIlog20p
CIlog31s
CIlog31p
CIlog30s
CIlog30p
CI11s
CI11p
CI10s
CI10p
CI21s
CI21p
CI20s
CI31s
CI30s
CI31s
CI31p
CI30s
CI30p
q()
y
